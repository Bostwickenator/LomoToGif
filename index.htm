<html>
    <head>
        <script src="./gif.js"></script>
        <script>
            

             var image = new Image();
            image.src = "./tests/unspecified.jpg";

            // or a canvas element
           // gif.addFrame(canvasElement, {delay: 200});

            // or copy the pixels from a canvas context
           // 

           
        function runJob() {
            
           
            var canvas = document.getElementById("scratchCanvas");

            var gif = new GIF({
                workers: 2,
                quality: 10,
                width: canvas.width,
                height: canvas.height
            });
             gif.on('finished', function(blob) {
                console.log("complete");
                var url = URL.createObjectURL(blob)
                   var output = document.getElementById("output");
            output.src = url;
        });
            var ctx = canvas.getContext("2d", {alpha: false});
            ctx.drawImage(image, 0, 0);
            gif.addFrame(ctx, {copy: true});
             ctx.drawImage(image, 10, 10);
            gif.addFrame(ctx, {copy: true});
            gif.render()
        }
        </script>
    </head>
    <body>
        <canvas id="scratchCanvas" width="300" height="200"></canvas>
        
        <img id="output" />
        <button onclick="runJob()">Run</button>
    </body>
</html>